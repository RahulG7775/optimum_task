{% extends "header.html" %}
{% block content %}

<div class="container-fluid">
    <table id="moviesTable">
        <thead>
            <tr>
                <th>Date</th>
                <th>Movie 1</th>
                <th>Movie 2</th>
                <th>Movie 3</th>
            </tr>
        </thead>
        <tbody>
            <!-- Loop through date_to_movies and create rows -->
            {% for date, movies in date_to_movies.items() %}
                <tr>
                    <td>{{ date }}</td>
                    {% for i in range(3) %}
                        <td>
                            {% if movies|length > i %}
                                <div>
                                    <strong>{{ movies[i].title }}</strong><br>
                                    {% if movies[i].poster != "N/A" %}
                                        <img src="{{ movies[i].poster }}" alt="{{ movies[i].title }}"><br>
                                    {% else %}
                                        N/A<br>
                                    {% endif %}
                                    Genre: {{ movies[i].genre | join(', ') }}<br>
                                    Rating: {% if movies[i].Ratings %}{{ movies[i].Ratings[0].value }}{% else %}N/A{% endif %}<br>
                                    Year: {{ movies[i].year }}<br>
                                    Metacritic: {{ movies[i].meta_score if movies[i].meta_score != "N/A" else "N/A" }}<br>
                                    Runtime: {{ movies[i].runtime }}
                                </div>
                            {% else %}
                                N/A
                            {% endif %}
                        </td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>


{% endblock %}
